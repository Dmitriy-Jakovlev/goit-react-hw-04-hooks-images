(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3IqlI",image:"ImageGalleryItem_image__3qzWj"}},12:function(e,t,a){e.exports={app:"App_app__s-O-p",title:"App_title__1X7nM"}},15:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1ppGO"}},16:function(e,t,a){e.exports={Button:"Button_Button__3IgXd"}},22:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),i=(a(22),a(13)),u=a(3),l=(a(23),a(24),a(9)),s=a(14),m=a.n(s),b=a(5),h=a.n(b),j=a(1);function d(e){var t=e.onClick,a=Object(n.useState)(""),c=Object(u.a)(a,2),r=c[0],o=c[1];return Object(j.jsx)("header",{className:h.a.Searchbar,children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r.trim()&&(t(r),o(""))},className:h.a.SearchForm,children:[Object(j.jsx)("button",{type:"submit",className:h.a.SearchFormButton,children:Object(j.jsx)("span",{className:h.a.SearchFormButtonLabel,children:"Search"})}),Object(j.jsx)("input",{className:h.a.SearchFormInput,onChange:function(e){o(e.target.value)},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r})]})})}var f=a(15),_=a.n(f),p=a(11),O=a.n(p),g=function(e){var t=e.images,a=e.onImageClick;return t.map((function(e){var t=e.id,n=e.webformatURL,c=e.tags;return Object(j.jsx)("li",{className:O.a.ImageGalleryItem,onClick:function(){return a(t)},children:Object(j.jsx)("img",{className:O.a.image,src:n,alt:c})},t)}))},S=function(e){var t=e.images,a=e.onImageClick;return Object(j.jsx)("ul",{className:_.a.ImageGallery,children:Object(j.jsx)(g,{images:t,onImageClick:a})})},x=a(17),y=a(7),I=a.n(y),v=document.querySelector("#modal-root");function k(e){var t=e.children,a=e.showModal,c=Object(n.useRef)(null);Object(n.useEffect)((function(){window.addEventListener("keydown",c.current)}),[]),Object(n.useEffect)((function(){return function(){window.removeEventListener("keydown",c.current)}})),c.current=function(e){"Escape"===e.code&&a()};return Object(r.createPortal)(Object(j.jsx)("div",{className:I.a.backdrop,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(j.jsxs)("div",{className:I.a.modal,children:[Object(j.jsx)("button",{type:"button",onClick:function(){return a()},className:I.a.button,children:Object(j.jsx)(x.a,{className:I.a.icon})}),t]})}),v)}var F=a(16),C=a.n(F);function w(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",onClick:function(){return t()},className:C.a.Button,children:"Load more"})}var N=a(12),L=a.n(N),B="idle",E="resolved",M="reject";function G(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(u.a)(r,2),s=o[0],b=o[1],h=Object(n.useState)([]),f=Object(u.a)(h,2),_=f[0],p=f[1],O=Object(n.useState)(B),g=Object(u.a)(O,2),x=g[0],y=g[1],I=Object(n.useState)(!1),v=Object(u.a)(I,2),F=v[0],C=v[1],N=Object(n.useState)(!1),G=Object(u.a)(N,2),P=G[0],q=G[1],T=Object(n.useState)(null),A=Object(u.a)(T,2),R=A[0],D=A[1];Object(n.useEffect)((function(){""!==a&&(1===s&&p([]),C(!0),function(e,t){return fetch("https://pixabay.com/api/?key=".concat("9062055-da883187fb30391728e11f5fd","&q=").concat(t,"&page=").concat(e,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Some server issue seems to have occured. Please try again"))}))}(s,a).then((function(e){e.hits.length<12&&l.b.warn("All images are loaded",{toastId:"anotherCustomId"}),p((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),y(E)})).catch((function(){return y(M)})).finally((function(){C(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})))}),[s,a]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(d,{onClick:function(e){if(a===e.toLowerCase())return alert("alert"),void l.b.dark("Try to change your input :)",{toastId:"customId"});c(e.toLowerCase()),b(1)}}),"idle"===x?Object(j.jsx)("h2",{className:L.a.title,children:"Input your query to find images"}):null,"resolved"===x?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(S,{images:_,onImageClick:function(e){var t=_.find((function(t){return t.id===e}));D(t),q((function(e){return!e}))}}),Object(j.jsx)(w,{onClick:function(){b((function(e){return e+1}))}})]}):null,F&&Object(j.jsx)(m.a,{className:"Loader",type:"Oval",color:"#9900cc",height:180,width:180}),"reject"===x?Object(j.jsx)("h2",{className:L.a.title,children:"Error. Try to change your query"}):null,P&&Object(j.jsx)(k,{showModal:function(){q((function(e){return!e}))},children:Object(j.jsx)("img",{src:R.largeImageURL,alt:R.tags})}),Object(j.jsx)(l.a,{})]})}var P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(G,{})}),document.getElementById("root")),P()},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1VYdF",SearchForm:"Searchbar_SearchForm__1EcI3",SearchFormButton:"Searchbar_SearchFormButton__2xPch","SearchForm-button":"Searchbar_SearchForm-button__25Lb-",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__nNZh_",SearchFormInput:"Searchbar_SearchFormInput__DE2Nl","SearchForm-input":"Searchbar_SearchForm-input__3pm6Q"}},7:function(e,t,a){e.exports={backdrop:"Modal_backdrop__2Uhyx",modal:"Modal_modal__3RAZN",button:"Modal_button__33y_u",icon:"Modal_icon__2ikQ1",Overlay:"Modal_Overlay__2kGuP",Modal:"Modal_Modal__1ISC1"}}},[[46,1,2]]]);
//# sourceMappingURL=main.e49f017d.chunk.js.map